<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="15.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project=".\PackageVersions.props" />
  <Import Project="../packages/microsoft.dotnet.buildtools/$(BuildToolsVersion)/lib/Build.Common.props" Condition="Exists('../packages/microsoft.dotnet.buildtools/$(BuildToolsVersion)/lib/Build.Common.props')" />
  <!-- Assembly attributes -->
  <PropertyGroup>
    <AssemblyName>System.Private.CoreLib</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <MajorVersion>4</MajorVersion>
    <MinorVersion>6</MinorVersion>
    <ExcludeAssemblyInfoPartialFile>true</ExcludeAssemblyInfoPartialFile>
  </PropertyGroup>
  <!-- Compilation options -->
  <PropertyGroup>
    <TargetsCoreRT>true</TargetsCoreRT>
    <FeaturePortableThreadPool>true</FeaturePortableThreadPool>
    <FeaturePortableTimer>true</FeaturePortableTimer>
    <ProjectGuid>{631BC4F3-E2D8-4319-814C-13904CAA17CE}</ProjectGuid>
    <OutputType>Library</OutputType>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <SubsystemVersion>6.00</SubsystemVersion>
    <UTF8OutPut>true</UTF8OutPut>
    <HighEntropyVA>true</HighEntropyVA>
    <ErrorReport>prompt</ErrorReport>
    <CLSCompliant>true</CLSCompliant>
    <WarningLevel>4</WarningLevel>
    <TreatWarningsAsErrors>false</TreatWarningsAsErrors>
    <WarningsNotAsErrors>$(WarningsNotAsErrors);618</WarningsNotAsErrors>
    <NoWarn>649,3019,414,169,3015,591,1573,1591,0419</NoWarn>
    <!-- Disable nullability-related warnings -->
    <NoWarn>$(NoWarn);CS8600;CS8601;CS8602;CS8603;CS8604;CS8605;CS8606;CS8608;CS8609;CS8610;CS8611;CS8612;CS8614;CS8615;CS8617;CS8618;CS8620;CS8622;CS8625;CS8631;CS8632;CS8634;CS8653</NoWarn>
    <GenerateTargetFrameworkAttribute>false</GenerateTargetFrameworkAttribute>
    <SignAssembly>true</SignAssembly>
    <DelaySign>true</DelaySign>
    <DefineConstants>$(DefineConstants);CORERT;BIT64;_USE_NLS_PLUS_TABLE;CODE_ANALYSIS_BASELINE;netcoreapp</DefineConstants>
    <!-- We don't use any of MSBuild's resolution logic for resolving the framework, so just set these two properties to any folder that exists to skip
         the GenerateReferenceAssemblyPaths task (not target) and to prevent it from outputting a warning (MSB3644). -->
    <_TargetFrameworkDirectories>$(MSBuildThisFileDirectory)/Documentation</_TargetFrameworkDirectories>
    <_FullFrameworkReferenceAssemblyPaths>$(MSBuildThisFileDirectory)/Documentation</_FullFrameworkReferenceAssemblyPaths>
    <SkipCommonResourcesIncludes>true</SkipCommonResourcesIncludes>
    <LangVersion>8.0</LangVersion>
    <OutputPath>..\..\bin\</OutputPath>
    <DocumentationFile>$(OutputPath)$(MSBuildProjectName).xml</DocumentationFile>
  </PropertyGroup>
  <!-- Configuration specific properties -->
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <Optimize Condition="'$(Optimize)' == ''">false</Optimize>
    <DebugType Condition="'$(DebugType)' == ''">full</DebugType>
    <DefineConstants>_LOGGING;DEBUG;TRACE;$(DefineConstants)</DefineConstants>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <Optimize Condition="'$(Optimize)' == ''">true</Optimize>
    <DebugType Condition="'$(DebugType)' == ''">pdbOnly</DebugType>
    <DefineConstants>TRACE;$(DefineConstants)</DefineConstants>
    <WarningLevel>2</WarningLevel>
  </PropertyGroup>
  <!-- Make portable PDBs on Unix -->
  <PropertyGroup Condition="'$(OsEnvironment)' == 'Unix'">
    <DebugType>portable</DebugType>
  </PropertyGroup>
  <!-- Disable SDK libs -->
  <PropertyGroup>
    <!-- This prevents the default MsBuild targets from referencing System.Core.dll -->
    <AddAdditionalExplicitAssemblyReferences>false</AddAdditionalExplicitAssemblyReferences>
    <!-- These prevent the default MsBuild targets from referencing System.dll and mscorlib.dll -->
    <ExcludeMscorlibFacade>true</ExcludeMscorlibFacade>
    <NoStdLib>true</NoStdLib>
    <NoCompilerStandardLib>true</NoCompilerStandardLib>
  </PropertyGroup>
  <!-- Disable code paths that require project.assets.json files to be present or to be computed. -->
  <PropertyGroup>
    <GenerateDependencyFile>false</GenerateDependencyFile>
    <ComputeNETCoreBuildOutputFiles>false</ComputeNETCoreBuildOutputFiles>
    <GenerateRuntimeConfigurationFiles>false</GenerateRuntimeConfigurationFiles>
    <ResolveNuGetPackages>false</ResolveNuGetPackages>
  </PropertyGroup>
  <!--
    Helper Paths
  -->
  <PropertyGroup>
    <CommonPath>$(MSBuildThisFileDirectory)Common</CommonPath>
    <BclSourcesRoot>$(MSBuildThisFileDirectory)</BclSourcesRoot>
    <MscorlibDir>$(MSBuildThisFileDirectory)</MscorlibDir>
    <NlpObjDir>$(BclSourcesRoot)\System\Globalization\Tables</NlpObjDir>
  </PropertyGroup>
  <!-- Files -->
  <ItemGroup>
    <Compile Include="Common\System\NotImplemented.cs" />
    <Compile Include="Common\System\SR.cs" />
    <Compile Include="Internal\LowLevelLinq\LowLevelEnumerable.cs" />
    <Compile Include="Internal\LowLevelLinq\LowLevelEnumerable.ToArray.cs" />
    <Compile Include="Internal\Reflection\Extensions\NonPortable\CustomAttributeInheritanceRules.cs" />
    <Compile Include="Internal\Reflection\Extensions\NonPortable\CustomAttributeInstantiator.cs" />
    <Compile Include="Internal\Reflection\Extensions\NonPortable\CustomAttributeSearcher.cs" />
    <Compile Include="Internal\Runtime\Augments\EnumInfo.cs" />
    <Compile Include="Internal\Runtime\Augments\RuntimeAugments.cs" />
    <Compile Include="Microsoft\Win32\SafeHandles\SafeWaitHandle.Mosa.cs" />
    <Compile Include="System\Array.Mosa.cs" />
    <Compile Include="System\Collections\Generic\Comparer.Mosa.cs" />
    <Compile Include="System\Collections\Generic\EqualityComparer.Mosa.cs" />
    <Compile Include="System\Collections\Generic\LowLevelDictionary.cs" />
    <Compile Include="System\Collections\Generic\LowLevelList.cs" />
    <Compile Include="System\CommonRuntimeTypes.cs" />
    <Compile Include="System\Enum.Mosa.cs" />
    <Compile Include="System\Environment.Mosa.cs" />
    <Compile Include="System\MulticastDelegate.cs" />
    <Compile Include="System\Object.Mosa.cs" />
    <Compile Include="System\Reflection\CustomAttributeData.cs" />
    <Compile Include="System\Reflection\CustomAttributeExtensions.cs" />
    <Compile Include="System\Reflection\CustomAttributeNamedArgument.cs" />
    <Compile Include="System\Reflection\CustomAttributeTypedArgument.cs" />
    <Compile Include="System\Reflection\MissingMetadataException.cs" />
    <Compile Include="System\Reflection\RuntimeFieldInfo.cs" />
    <Compile Include="System\RuntimeArgumentHandle.cs" />
    <Compile Include="System\RuntimeHandles.cs" />
    <Compile Include="System\Runtime\CompilerServices\DependencyReductionRootAttribute.cs" />
    <Compile Include="System\Runtime\CompilerServices\EagerStaticClassConstructionAttribute.cs" />
    <Compile Include="System\Reflection\RuntimeMethodInfo.cs" />
    <Compile Include="System\Runtime\CompilerServices\ReflectionBlockedAttribute.cs" />
    <Compile Include="System\Runtime\RuntimeImports.cs" />
    <Compile Include="System\Security\DynamicSecurityMethodAttribute.cs" />
    <Compile Include="System\String.Mosa.cs" />
    <Compile Include="System\Threading\Interlocked.cs" />
    <Compile Include="System\Threading\StackCrawlMark.cs" />
    <Compile Include="System\Type.Mosa.cs" />
    <Compile Include="System\TypedReference.cs" />
    <Compile Include="System\TypeUnificationKey.cs" />
    <Compile Include="System\ValueType.cs" />
    <Compile Include="System\WeakReference.cs" />
    <Compile Include="System\WeakReferenceOfT.cs" />
  </ItemGroup>
  <ItemGroup>
    <EmbeddedResource Include="Resources\$(AssemblyName).rd.xml">
      <LogicalName>Resources.$(AssemblyName).rd.xml</LogicalName>
    </EmbeddedResource>
  </ItemGroup>
  <ItemGroup>
    <!--
    These files are also added to CoreLib.Shared.projitems, but they don't show up in
    Visual Studio Solution Explorer. Adding them here as well so developers can
    edit them and regenerate the .cs files.
    -->
    <Content Include="shared\System\Numerics\ConstantHelper.tt">
      <Generator>TextTemplatingFileGenerator</Generator>
      <LastGenOutput>ConstantHelper.cs</LastGenOutput>
    </Content>
    <None Include="shared\System\Numerics\GenerationConfig.ttinclude" />
    <Content Include="shared\System\Numerics\Register.tt">
      <Generator>TextTemplatingFileGenerator</Generator>
      <LastGenOutput>Register.cs</LastGenOutput>
    </Content>
    <Content Include="shared\System\Numerics\Vector.tt">
      <Generator>TextTemplatingFileGenerator</Generator>
      <LastGenOutput>Vector.cs</LastGenOutput>
    </Content>
  </ItemGroup>
  <Import Project="shared\System.Private.CoreLib.Shared.projitems" />
  <!-- Use Roslyn Compilers to build -->
  <PropertyGroup>
    <RoslynPropsFile>../packages/microsoft.net.compilers.toolset/$(RoslynVersion)/build/Microsoft.Net.Compilers.Toolset.props</RoslynPropsFile>
  </PropertyGroup>
  <Import Project="$(RoslynPropsFile)" Condition="Exists('$(RoslynPropsFile)')" />
  <!-- Set non-empty TargetFrameworkIdentifier to avoid defaulting to .NETPortable -->
  <PropertyGroup>
    <TargetFrameworkIdentifier>.NETStandard</TargetFrameworkIdentifier>
  </PropertyGroup>
  <Import Project="GenerateCompilerResponseFile.targets" />
  <Import Project="../packages/microsoft.dotnet.buildtools/$(BuildToolsVersion)/lib/Build.Common.targets" Condition="Exists('../packages/microsoft.dotnet.buildtools/$(BuildToolsVersion)/lib/Build.Common.targets')" />
</Project>